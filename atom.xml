<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[Stay foolish, stay hungry.]]></title>
  <link href="http://jeffreylyg.github.io/atom.xml" rel="self"/>
  <link href="http://jeffreylyg.github.io/"/>
  <updated>2014-03-29T13:32:37+08:00</updated>
  <id>http://jeffreylyg.github.io/</id>
  <author>
    <name><![CDATA[Jeffrey Lee]]></name>
    <email><![CDATA[jeffreylyg@gmail.com]]></email>
  </author>
  <generator uri="http://octopress.org/">Octopress</generator>

  
  <entry>
    <title type="html"><![CDATA[Clang Error: -Wunused-command-line-argument-hard-error-in-future]]></title>
    <link href="http://jeffreylyg.github.io/blog/2014/03/24/clang-error-wunused-command-line-argument-hard-error-in-future/"/>
    <updated>2014-03-24T02:29:32+08:00</updated>
    <id>http://jeffreylyg.github.io/blog/2014/03/24/clang-error-wunused-command-line-argument-hard-error-in-future</id>
    <content type="html"><![CDATA[<p>在公司的电脑上用<strong>Octopress</strong>搭好个人Blog后进行了一些初步设置后因为工作太忙然后搁那儿就没动了，等周末时间空出来后准备用自己的Mac Air重新搭建和配置一下Octopress以便以后都用自己的电脑在闲暇的时间来写写博客。在搭建时执行 <code>bundle install</code> 命令时总是报如下的错误：</p>

<!--more-->


<pre><code>Gem::Installer::ExtensionBuildError: ERROR: Failed to   build gem native extension.

/System/Library/Frameworks/Ruby.framework/Versions/2.0/usr/bin/ruby extconf.rb --with-cflags=-w
checking for main() in -lc... yes
creating Makefile

make "DESTDIR="
compiling redcloth_attributes.c
compiling redcloth_inline.c
compiling redcloth_scan.c
linking shared-object redcloth_scan.bundle
clang: error: unknown argument: '-multiply_definedsuppress' [-Wunused-command-line-argument-hard-error-in-future]
clang: note: this will be a hard error (cannot be downgraded to a warning) in the future
make: *** [redcloth_scan.bundle] Error 1


Gem files will remain installed in /Library/Ruby/Gems/2.0.0/gems/RedCloth-4.2.9 for inspection.
Results logged to /Library/Ruby/Gems/2.0.0/gems/RedCloth-4.2.9/ext/redcloth_scan/gem_make.out
An error occurred while installing RedCloth (4.2.9), and Bundler cannot continue.
Make sure that `gem install RedCloth -v '4.2.9'` succeeds before bundling.
</code></pre>

<p>在各种Google和StackOverflow后问题出在<code>clang: error: unknown argument: '-multiply_definedsuppress' [-Wunused-command-line-argument-hard-error-in-future]</code>这句上，原因是更新了最新的Xocde 5.1后的Apple LLVM compiler把所有无法识别的命令行选项当成了错误，下面是<a href="https://developer.apple.com/library/ios/releasenotes/DeveloperTools/RN-Xcode/Introduction/Introduction.html">Xcode 5.1 Release Notes</a>中的解释：</p>

<blockquote><p>The Apple LLVM compiler in Xcode 5.1 treats unrecognized command-line options as errors. This issue has been seen when building both Python native extensions and Ruby Gems, where some invalid compiler options are currently specified.</p></blockquote>

<p>很感谢StackOverflow里这篇文章的帮助<a href="http://stackoverflow.com/questions/22352838/ruby-gem-install-json-fails-on-mavericks-and-xcode-5-1-unknown-argument-mul">http://stackoverflow.com/questions/22352838/ruby-gem-install-json-fails-on-mavericks-and-xcode-5-1-unknown-argument-mul</a>.</p>

<p>这个问题有两种解决办法：</p>

<ul>
<li>在Terminal里执行如下命令</li>
</ul>


<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>sudo ARCHFLAGS=-Wno-error=unused-command-line-argument-hard-error-in-future bundle install 
</span><span class='line'>sudo ARCHFLAGS=-Wno-error=unused-command-line-argument-hard-error-in-future gem install Gemmodule </span></code></pre></td></tr></table></div></figure>


<p>然而这种方法是一种临时性的解决办法，想要永久性的解决这个问题就要用第二种方法。</p>

<ul>
<li>升级ruby的版本，升级到解决了这个问题的版本就行，貌似是2.0.0-p451，大于等于这个版本的都行，我下面的操作就是升级到了2.1.1版本。</li>
</ul>


<p>ruby的安装有两种方法，分别是<strong>rvm</strong>和<strong>rbenv</strong>，而在执行<code>rvm install ruby</code>命令时又出现了如下蛋疼的错误：</p>

<pre><code>Searching for binary rubies, this might take some time.
No binary rubies available for: osx/10.9/x86_64/ruby-2.1.1.
Continuing with compilation. Please read 'rvm help mount' to get more information on binary rubies.
Checking requirements for osx.
Installing macports...............................................
Error running 'requirements_osx_port_install_port',
showing last 15 lines of /Users/apple/.rvm/log/1395596183_ruby-2.1.1/port_install.log
checking for lockf... yes
checking for flock... yes
checking for setmode... yes
checking for strcasecmp... yes
checking for strncasecmp... yes
checking for strlcpy... yes
checking for copyfile... yes
checking for clearenv... no
checking for sysctlbyname... yes
checking if readlink conforms to POSIX 1003.1a... yes
checking CommonCrypto/CommonDigest.h usability... yes
checking CommonCrypto/CommonDigest.h presence... yes
checking for CommonCrypto/CommonDigest.h... yes
checking for Tcl configuration... configure: error: Can't find Tcl configuration definitions
++ return 1
Requirements installation failed with status: 1.
</code></pre>

<p>于是又用<strong>rbenv</strong>去升级<strong>ruby</strong>。</p>

<p>首先用如下命令安装<strong>Homebrew</strong>：</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>ruby -e "$(curl -fsSL https://raw.github.com/Homebrew/homebrew/go/install)"</span></code></pre></td></tr></table></div></figure>


<p>然后安装<strong>rbenv</strong>：</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>brew update
</span><span class='line'>brew install rbenv
</span><span class='line'>brew install ruby-build</span></code></pre></td></tr></table></div></figure>


<p>最后安装<strong>ruby</strong>：</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>rbenv install 2.1.1
</span><span class='line'>rbenv local 2.1.1
</span><span class='line'>rbenv rehash</span></code></pre></td></tr></table></div></figure>


<p>按照第二种方法升级ruby后在Octopress目录下执行<code>bundle install</code>命令，问题解决，然后就可以用<strong>rake</strong>命令进行发布，预览等一系列操作了。</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[My First Octopress Blog]]></title>
    <link href="http://jeffreylyg.github.io/blog/2014/03/12/my-first-octopress-blog/"/>
    <updated>2014-03-12T14:37:20+08:00</updated>
    <id>http://jeffreylyg.github.io/blog/2014/03/12/my-first-octopress-blog</id>
    <content type="html"><![CDATA[<p>很久之前就想搭一个个人<strong>Blog</strong>了，但一直苦于找不到一个合适的<strong>Blog</strong>平台。之前搞ACM的时候在CSDN上写过一些题解，主要做模板和记录的作用，写过几篇后就不了了之了。然后体验过国外很火的轻博客<a href="https://www.tumblr.com/"><strong>Tumblr</strong></a>以及国内的<a href="http://www.diandian.com/"><strong>点点</strong></a>等，这些平台都不能完全的私人定制，感觉甚是不爽。说到这儿可能会有人问为什么不去用<a href="http://wordpress.com/"><strong>WordPress</strong></a>，其实之前是有试着用<a href="http://wordpress.com/"><strong>WordPress</strong></a>去搭的，但感觉很是麻烦，先不说部署时的学习曲线，还要自己去找服务器，国内的免费服务器支持的不是很好，<strong>新浪云</strong>有支持，但免费的还是不能完全的私人定制，花钱租服务器觉得不划算，觉得还没有到花钱的地步，不是自己舍不得这笔钱，主要是认为自己才刚开始，博客一时半会儿不会到拥有大量读者的地步而且主要是自娱自乐。还有一个原因当时真得没有时间去折腾这个。所以这件事也就搁置了好久，一直到现在。</p>

<!--more-->


<p>最近偶然在Google问题浏览他人Blog的时候发现了<a href="http://octopress.org/"><strong>Octopress</strong></a>的存在，于是马上去它的官网查了查，瞬间被它的一句话所吸引：</p>

<blockquote><p>A blogging framework for hackers.</p></blockquote>

<p>于是大概看了一下它是如何部署的，原来是用<code>ruby</code>脚本帮你封装了生成静态页面以及git的一系列操作，虽然从来没用过<code>ruby</code>，但对git还是蛮熟悉的，而且它可以部署在<a href="http://pages.github.com/"><strong>Github Page</strong></a>上，所以服务器这一项完全免费还支持custom domain，于是立马开始了对<code>Octopress</code>的部署（网上有大量的Octopress的部署教程，这里不赘述了，请大家自行Google）。博文支持当下很流行的<code>Markdown</code>语法，<code>Markdown</code>确实强大而且<code>Markdown</code>还是蛮容易上手的，这里推荐一个Mac OS上很不错的Markdown编辑器<a href="http://mouapp.com/"><strong>Mou</strong></a>:</p>

<p><img src="http://mouapp.com/images/Mou_Screenshot_1.png" alt="Mou preview" /></p>

<p>随后发现了一款Octopress上非常不错的主题，第一眼看到它就喜欢上它的高大上了，这款主题叫<a href="http://shashankmehta.in/archive/2012/greyshade.html"><strong>Greyshade</strong></a>, 也就是本人现在正在用的这款主题。引入这款主题的时候会出现一个问题，那就是如果你引入了第三方评论系统<a href="http://disqus.com/"><strong>Disqus</strong></a>，那么引入这款主题后<a href="http://disqus.com/"><strong>Disqus</strong></a>后就看不见了，在网上Google了好久终于在这篇文章<a href="http://bryanone.com/blog/2014/03/01/problem-with-greyshade/">http://bryanone.com/blog/2014/03/01/problem-with-greyshade/</a>里找到了原因并有解决方案，很感谢这位博主。</p>

<p>最后，还是好基友说的那句话，搭一个Blog平台容易，但坚持写Blog不是一件容易的事。所以，总之，加油吧，在这里记录点什么。</p>
]]></content>
  </entry>
  
</feed>
